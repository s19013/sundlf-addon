# sundlf-bookmark-addon

# リンク
(1､2ヶ月ほどおまちください)

# 使った技術
* vue.js
* javascript
* html
* css
* googleが提供する拡張機能用api

# 制作背景
自分が作ったsundlfというサービスをより便利にするために作った
前々から何かchromeの拡張機能を作りたいと思っていた

# 実装した大まかな機能
* ログイン
* ログアウト


今さらながらpretterとeslintを入れて作業してみた
api通信周りが難しいかった
corsという部分で躓いた｡
422エラーという初めて聞いたエラーが出て困惑した
-> 直感でバックに問題があると予想
-> 一行一行コメントアウトするなりして問題となった行を修正した
拡張機能とwebアプリで別々のセッションを発行することにした
拡張機能用に色々書き方とかあるので､その対応
拡張機能用のapiが全部非同期なので非同期の勉強し直し｡
とにかく非同期まわりで苦しんだ｡
chrome.storage周りで苦しんだ
非同期のスコープ(?)で苦しんだ
必要な情報がなかなか見つからない｡
公式リファレンスを読んでもわからないことはある
-> 単純に公式リファレンスの対象から外れているだけたとも言えるが

apiトークン認証とspa認証を共存させるのが難しかった
->ここを解決するのにだいたい3日かかった
->api通信トークン認証でセッションなど発行してしまっていた
->spa認証で使う`EnsureFrontendRequestsAreStateful`をapiトークン認証にもついていたのが原因
->拡張機能ではクッキーをセットするのが難しいのでpostmanなどでは動いても拡張機能では動かないことが沢山あった
->あとは`Authorization`にトークンをはるときに`Bearer `と書く必要があることに気付くのが遅かった


# 参考にしたサイトなど

# 未来の編集する私へ
なにか機能を足すのなら一度`beforeCromeApi`で編集してテストしてください
その後`cromeApi`にチェリーピッカーでコピーして拡張機能ようにコピーしてください
